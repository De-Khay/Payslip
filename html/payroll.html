<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Firestore Data Display with Search</title>
    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/payroll.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
  </head>
  <body>
    <div class="container">
      <div class="sidebar">
        <div class="menu-btn"><i class="ph-bold ph-caret-left"></i></div>
        <div class="head">
          <div class="user-img">
            <img src="../img//bt-logo-1.png" alt="" />
          </div>
          <div class="user-details">
            <p class="title"></p>
            <p class="name"></p>
          </div>
        </div>
        <div class="nav">
          <div class="menu">
            <p class="title">Main</p>
            <ul>
              <li>
                <a href="home.html"
                  ><i class="icon ph-bold ph-house-simple"></i
                  ><span class="text">Dashboard</span></a
                >
              </li>
              <li>
                <a href="#"
                  ><i class="icon ph-bold ph-user"></i
                  ><span class="text">Staff Records</span
                  ><i class="arrow ph-bold ph-caret-down"></i
                ></a>
                <ul class="sub-menu">
                  <li>
                    <a href="records.html"><span class="text">Records</span></a>
                  </li>
                  <li>
                    <a href="records.html"><span class="text">Details</span></a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="events.html"
                  ><i class="icon ph-bold ph-calendar-blank"></i
                  ><span class="text">Events</span></a
                >
              </li>
              <li>
                <a href="holidays.html"
                  ><i class="icon ph-bold ph-calendar-blank"></i
                  ><span class="text">Holidays</span></a
                >
              </li>
              <li>
                <a href="materials.html"
                  ><i class="fas fa-cubes"></i>
                  <span class="text">Materials</span></a
                >
              </li>
              <li class="active">
                <a href="payroll.html"
                  ><i class="fa-solid fa-money-bill"></i>
                  <span class="text">Payroll</span></a
                >
              </li>
              <li>
                <a href="#"
                  ><i class="icon ph-bold ph-chart-bar"></i
                  ><span class="text">Reports</span
                  ><i class="arrow ph-bold ph-caret-down"></i
                ></a>
                <ul class="sub-menu">
                  <li>
                    <a href="#"><span class="text">Earnings</span></a>
                  </li>
                  <li>
                    <a href="#"><span class="text">Funds</span></a>
                  </li>
                  <li>
                    <a href="#"><span class="text">Declines</span></a>
                  </li>
                  <li>
                    <a href="#"><span class="text">Payouts</span></a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#"
                  ><i class="icon ph-bold ph-file-text"></i
                  ><span class="text">Articles</span></a
                >
              </li>
            </ul>
          </div>
          <div class="menu">
            <p class="title">Settings</p>
            <ul>
              <li>
                <a href="#"
                  ><i class="icon ph-bold ph-gear"></i
                  ><span class="text">Settings</span></a
                >
              </li>
            </ul>
          </div>
        </div>
        <div class="menu">
          <p class="title">Account</p>
          <ul>
            <li>
              <a href="#"
                ><i class="icon ph-bold ph-info"></i
                ><span class="text">FAQ</span></a
              >
            </li>
            <li>
              <a href="#"
                ><i class="icon ph-bold ph-sign-out"></i
                ><span class="text">Logout</span></a
              >
            </li>
          </ul>
        </div>
      </div>
      <div class="content">
        <div class="header">
          <h2>Staff Records</h2>
          <!-- <div class="year-filter">
            <select name="year" id="yearFilter" aria-placeholder="year">
              <option value="#">Year</option>
              <option value="2022">2022</option>
              <option value="2023">2023</option>
              <option value="2024">2024</option>
            </select>
            <button class="applyButton">Apply</button>
          </div> -->
          <div class="options">
            <div class="custom-dropdown language-dropdown">
              <span class="dropdown-text">Language</span>
              <i class="fas fa-caret-down dropdown-arrow"></i>
              <select name="language" id="languageSelect">
                <option value="en">English</option>
                <option value="fr">French</option>
                <option value="es">Spanish</option>
              </select>
            </div>
            <div class="custom-dropdown report-dropdown">
              <span class="dropdown-text">Print</span>
              <i class="fas fa-caret-down dropdown-arrow"></i>
              <select name="reportType" id="reportTypeSelect">
                <option value="word">Word</option>
                <option value="pdf">PDF</option>
                <option value="excel">Excel</option>
              </select>
            </div>
            <div class="custom-dropdown department-dropdown">
              <span class="dropdown-text">Department</span>
              <i class="fas fa-caret-down dropdown-arrow"></i>
              <select name="department" id="departmentSelect">
                <option value="technical">Technical Services</option>
                <option value="general">General Services</option>
                <option value="financial">Financial Services</option>
              </select>
            </div>
          </div>
        </div>
        <div class="overlay" id="overlay"></div>

        <div class="form-container" id="formContainer" style="display: none">
          <span class="close-btn" onclick="closeFormContainer()">&times;</span>
          <form id="myForm">
            <!-- Step 1 -->
            <fieldset id="step1">
              <h1>Employee Information</h1>
              <h3>Please fill out this form with the required information</h3>

              <label for="firstName">First Name:</label>
              <input type="text" id="firstName" required />

              <label for="lastName">Last Name:</label>
              <input type="text" id="lastName" required />

              <label for="otherName">Other Name:</label>
              <input type="text" id="otherName" />

              <label for="email">Email:</label>
              <input type="email" id="email" required />

              <label for="phoneNumber">Phone Number:</label>
              <input type="tel" id="phoneNumber" required />

              <label for="address1">Address Line 1:</label>
              <input type="text" id="address1" required />

              <label for="address2">Address Line 2:</label>
              <input type="text" id="address2" />

              <label for="city">City:</label>
              <input type="text" id="city" required />

              <label for="state">State:</label>
              <input type="text" id="state" required />

              <label for="country">Country:</label>
              <input type="text" id="country" required />

              <label for="gender">Gender:</label>
              <select id="gender" required>
                <option value="" disabled selected>Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <!-- Add more options as needed -->
              </select>

              <label for="staffId">Staff No/ID:</label>
              <input type="text" id="staffId" required />

              <label for="department">Department:</label>
              <select id="department" required>
                <option value="" disabled selected>Select Department</option>
                <option value="TS">Technical Services</option>
                <option value="FS">Financial Services</option>
                <option value="GS">General Services</option>
                <!-- Add more options as needed -->
              </select>

              <label for="designation">Designation:</label>
              <input type="text" id="designation" required />

              <label for="unit">Unit:</label>
              <input type="text" id="unit" required />

              <button type="button" id="nextStep1">Next</button>
            </fieldset>

            <!-- Step 2 -->
            <fieldset id="step2" style="display: none">
              <h1>Payment Information</h1>
              <p>Please fill out this form with the required information</p>

              <label for="paymentInfo">Payment Info:</label>
              <input type="text" id="paymentInfo" />

              <label for="baseSalary">Base Salary:</label>
              <input type="number" id="baseSalary" />

              <label for="gross">Gross:</label>
              <input type="number" id="gross" />

              <label for="net">Net:</label>
              <input type="number" id="net" />

              <label for="allowance">Allowance:</label>
              <input type="number" id="allowance" />

              <label for="tax">Tax:</label>
              <input type="number" id="tax" />

              <label for="pension">Pension:</label>
              <input type="number" id="pension" />

              <label for="payPeriod">Pay Period:</label>
              <input type="text" id="payPeriod" />

              <label for="entitlement">Entitlement:</label>
              <input type="text" id="entitlement" />

              <button type="button" id="prevStep2">Previous</button>
              <button type="submit" id="submit">Submit</button>
            </fieldset>
          </form>
        </div>
        <hr />
        <br />
        <div>
          <button id="addStaffButton">
            <i class="fa-solid fa-plus"></i> Add
          </button>
        </div>

        <div id="staffDetailsContainer">
          <div id="staffDetails">
            <!-- Staff details will be displayed here -->
          </div>
          <div id="pagination">
            <button id="prevButton">
              <i class="fa-solid fa-backward-step"></i>
            </button>
            <span
              >Page <span id="currentPage"></span> of
              <span id="totalPages"></span
            ></span>
            <button id="nextButton">
              <i class="fa-solid fa-forward-step"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Include your existing HTML structure, and add the following section for the popup content -->
    <div class="popup" id="staffDetailsPopup">
      <div class="popup-content">
        <span class="popup-close" onclick="closePopup()">&times;</span>
        <h2 id="popupEmployeeName"></h2>
        <p><strong>Department:</strong> <span id="popupDepartment"></span></p>
        <p><strong>Base Salary:</strong> <span id="popupBaseSalary"></span></p>
        <br>
        <hr>
        <br>
        <div class="popup-table">
          <h3>Deductions</h3>
          <table>
            <tr>
              <td>Tax Rate (7.5%):</td>
              <td><input type="number" id="taxRate" value="" /></td>
            </tr>
            <tr>
              <td>Pension (8%):</td>
              <td><input type="number" id="pension" value="" /></td>
            </tr>
            <tr>
              <td>Lateness Fee:</td>
              <td><input type="number" id="latenessFee" value="" /></td>
            </tr>
            <tr>
              <td>Absence Fee:</td>
              <td><input type="number" id="absenceFee" value="" /></td>
            </tr>
            <tr>
              <td>Salary Advance:</td>
              <td><input type="number" id="salaryAdvance" value="" /></td>
            </tr>
            <tr>
              <td>Loan:</td>
              <td><input type="number" id="loan" value="" /></td>
            </tr>
            <tr>
              <td>Missed Deliverables:</td>
              <td><input type="number" id="missedDeliverables" value="" /></td>
            </tr>
            <tr>
              <td>Other Deductions:</td>
              <td><input type="number" id="otherDeductions" value="" /></td>
            </tr>
          </table>
       
          <h3>Allowances</h3>
          <table>
            <tr>
              <td>Bonus:</td>
              <td><input type="number" id="bonus" value="" /></td>
            </tr>
            <tr>
              <td>Extra Hours/Days:</td>
              <td><input type="number" id="extraHoursDays" value="" /></td>
            </tr>
            <!-- Add more allowance rows below -->
            <tr>
              <td>Overtime Pay:</td>
              <td><input type="number" id="overtimePay" value="" /></td>
            </tr>
            <tr>
              <td>Commission:</td>
              <td><input type="number" id="commission" value="" /></td>
            </tr>
            <tr>
              <td>Travel Allowance:</td>
              <td><input type="number" id="travelAllowance" value="" /></td>
            </tr>
            <tr>
              <td>Other Allowances:</td>
              <td><input type="number" id="travelAllowance" value="" /></td>
            </tr>
            <!-- Add as many rows as needed -->
          </table>
        </div>
        <p><button onclick="calculateTotals()">Calculate Totals</button></p>
        <p><strong>Total Credit:</strong> <span id="totalCredit"></span></p>
        <p><strong>Total Debits:</strong> <span id="totalDebits"></span></p>
        <p>
          <strong>Total Amount Payable:</strong> <span id="totalPayable"></span>
        </p>
      </div>
    </div>

    <!-- Include Firebase JavaScript SDK -->
    <script
      src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js"
      type="module"
    ></script>
    <script
      src="https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js"
      type="module"
    ></script>

    <script src="../js/payroll.js" type="module"></script>
    <!-- <script src="../js/script.js" type="module"></script> -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.js"
      integrity="sha512-8Z5++K1rB3U+USaLKG6oO8uWWBhdYsM3hmdirnOEWp8h2B1aOikj5zBzlXs8QOrvY9OxEnD2QDkbSKKpfqcIWw=="
      crossorigin="anonymous"
    ></script>
  </body>
</html>
